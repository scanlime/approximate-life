<!DOCTYPE html>
<html><head><meta charset="utf-8"/><script>"use strict";
function m(s) {
  var i,j,k,t,cX,cY,r,N=0,P=0,E=0,T=0,tX=0,tY=0,tA=0,mx=1e9,Mx=-1e9,my=1e9,My=-1e9,B=[],X=[],Y=[],pE=[],cE=[],pT=[],tM=[],eM=[],eA=[],pM=[],pA=[];
  for(i=0;i<s.length;i++){k=parseInt(s[i],16);if(k<0x10)for(j=3;j>=0;j--)B[N++]=(k>>j)&1}
  function fG(x,y){
    var p=P,c=(0x1ff&x)|((0x1ff&y)<<9);if(pM[c])return pA[c];
    pM[c]=1;pA[c]=p;X[p]=x*0.8660254037844387;Y[p]=y+x/2;P=p+1;return p;
  }
  function fE(cX,cY,cD,iX,iY,iU,iV){
    var c=cD+3*((cX&0x1ff)|((cY&0x1ff)<<9)),e=E,a,b,i;
    if (eM[c])return eA[c];
    eM[c]=1;a=fG(iX,iY),b=fG(iU,iV);eA[c]=e;cE[e]=0;pE[9*e]=a;pE[9*(e+1)-1]=b;
    for(i=1;i<8;i++){X[P]=X[a]+(X[b]-X[a])*i/8;Y[P]=Y[a]+(Y[b]-Y[a])*i/8;pE[9*e+i]=P++}
    E=e+1;return e;
  }
  for(t of B){
    cX=tX;cY=tY;
    if(t)if(tA==0){cX--;tY++;tX--;tA=2}else if(tA==1){cX--;cY--;tY--;tA=0}else{cY--;tX++;tA=1}
    else if(tA==0){tX++;tA=1}else if(tA==1){cX--;tX--;tY++;tA=2}else{cY--;tY--;tA=0}
    r=t|((cX&0x1ff)<<1)|((cY&0x1ff)<<10);
    if (!tM[r]) {
      tM[r]=1;
      var nextPointId = 24 * T;
      if (t) {
        var e1 = fE(cX+1, cY, 0, cX+1, cY, cX+1, cY+1);
        var e2 = fE(cX, cY+1, 2, cX+1, cY+1, cX, cY+1);
        var e3 = fE(cX, cY, 1, cX, cY+1, cX+1, cY);
        cE[e1]++;
        cE[e2]++;
        cE[e3]++;
        for (var i = 9 - 1; i; i--) pT[nextPointId++] = pE[e3*9 + i];
        for (var i = 9 - 1; i; i--) pT[nextPointId++] = pE[e2*9 + i];
        for (var i = 9 - 1; i; i--) pT[nextPointId++] = pE[e1*9 + i];
      } else {
        var e1 = fE(cX, cY, 0, cX, cY, cX, cY+1);
        var e2 = fE(cX, cY, 1, cX, cY+1, cX+1, cY);
        var e3 = fE(cX, cY, 2, cX+1, cY, cX, cY);
        cE[e1]++;
        cE[e2]++;
        cE[e3]++;
        for (var i = 1; i < 9; i++) pT[nextPointId++] = pE[e1*9 + i];
        for (var i = 1; i < 9; i++) pT[nextPointId++] = pE[e2*9 + i];
        for (var i = 1; i < 9; i++) pT[nextPointId++] = pE[e3*9 + i];
      }
      T++;
    }
  }
  for (var s=400; s>0; s--) {
    for (var edge = 0; edge < E; edge++) {
      var f = (cE[edge] == 1 ? 0.2 : 0.1);
      var begin = edge * 9;
      var end = begin + 9;
      var p1 = pE[begin];
      var x1 = X[p1];
      var y1 = Y[p1];
      for (var i = begin + 1; i < end; i++) {
        var p2 = pE[i];
        var x2 = X[p2];
        var y2 = Y[p2];
        var dx = f * (x2 - x1);
        var dy = f * (y2 - y1);
        X[p1] = x1 + dx;
        Y[p1] = y1 + dy;
        x1 = X[p2] = x2 - dx;
        y1 = Y[p2] = y2 - dy;
        p1 = p2;
      }
    }
    for (i=0;i<T;i++) {
      var area_2x = 0;
      var begin = i * 24;
      var end = begin + 24;
      var p1 = pT[end - 1];
      var x1 = X[p1];
      var y1 = Y[p1];
      for (j=begin;j<end;j++) {
        var p2 = pT[j];
        var x2 = X[p2];
        var y2 = Y[p2];
        area_2x += (x1 + x2) * (y1 - y2);
        x1 = x2;
        y1 = y2;
      }
      var f = 0.03*((3/area_2x)-1);
      var p1 = pT[(i+1)*24-1];
      var x1 = X[p1];
      var y1 = Y[p1];
      for (j=i*24;j<(i+1)*24;j++) {
        var p2 = pT[j];
        var x2 = X[p2];
        var y2 = Y[p2];
        var dx = x2 - x1;
        var dy = y2 - y1;
        X[p1] = x1 - dy * f;
        Y[p1] = y1 + dx * f;
        x1 = X[p2] = x2 - dy * f;
        y1 = Y[p2] = y2 + dx * f;
        p1 = p2;
      }
    }
  }
  for(i=0;i<P;i++){j=X[i],k=Y[i];if(j<mx)mx=j;if(k<my)my=k;if(j>Mx)Mx=j;if(k>My)My=k}
  for(i=0;i<P;i++){X[i]-=(mx+Mx)/2;Y[i]-=(my+My)/2}
  window.onresize = function () {
    var i,j,n,p,x,s,c=document.getElementById('c');
    c.width=window.innerWidth;c.height=window.innerHeight;
    x=c.getContext('2d');x.clearRect(0,0,c.width,c.height);
    s=0.95*Math.min(c.width/(Mx-mx),c.height/(My-my));
    x.setTransform(s,0,0,s,c.width/2,c.height/2);
    x.fillStyle='#55a';x.strokeStyle='#141';x.lineWidth=0.08;x.lineCap='round';
    for(i=0,n=0;i<T;i++){x.beginPath();for(j=0;j<24;j++){p=pT[n++];x.lineTo(X[p],Y[p])}x.closePath();x.fill()}
    for(i=0,n=0;i<E;i++){x.beginPath();for(j=0;j<9;j++){p=pE[n++];x.lineTo(X[p],Y[p])}x.stroke()}
  }
  window.onresize();
}
</script>
</head><body onload="m(location.hash)">
<canvas id="c" style="position: absolute; top: 0; left: 0;" />
</body></html>
